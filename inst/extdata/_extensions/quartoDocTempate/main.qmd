---
title: "Main Document"
author: "Loqmane Seridi"
date: today
date-format: short
format:
  html:
    toc: true
    toc-location: left
    number-sections: true
    theme: [default, themes/docHoggar.scss]

editor: visual
---

## Introduction

Give some context.Define the purpose of this analysis for clarity and direction. Keep it specific and relevant.

```{r}
#| echo: false
#| code-fold: true
#| code-line-numbers: true
#| tidy: true
#| warning: false
#| message: false

# This code will load default packages and functions
source('scripts/load_packages.R')
source('scripts/help_functions.R')
# Load ggplot theme
source('themes/theme_hoggar.R')
```

## Loading the data

Here we start by loading the data generated by the 'create_data.R' script. The script should only be run once, and the data generated should be loaded thereafter.

```{r}
#| echo: false
#| code-fold: true
#| code-line-numbers: true
#| tidy: true
#| warning: false
#| message: false

# Code to compile and store the data under /data/processed/
# This line should only be run once and then commented out
source("scripts/create_data.R")
sim_data <- qs::qread("data/processed/simdata.qs")

```

## Summarize the data
In this section, you can provide a summary of the data for a quick overview.
```{r}
#| echo: false
#| code-fold: true
#| code-line-numbers: true
#| tidy: true
#| warning: false
#| message: false
html(describe(sim_data, 'Data Summary'))
```

Verify that plotting works.
```{r}
#| echo: false
#| code-fold: true
#| code-line-numbers: true
#| tidy: true
#| warning: false
#| message: false

ggdensity(
  sim_data,
  x = "age",
  color = "sex",
  fill = 'sex',
  ggtheme = theme_hoggar(),
  palette = hoggar_palette
)
```
